<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Mon May 06 14:38:38 EDT 2013 -->
<title>KevaDB</title>
<meta name="date" content="2013-05-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KevaDB";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../gov/ornl/keva/node/KevaDBFactory.html" title="class in gov.ornl.keva.node"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/ornl/keva/node/KevaDB.html" target="_top">Frames</a></li>
<li><a href="KevaDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.ornl.keva.node</div>
<h2 title="Class KevaDB" class="title">Class KevaDB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gov.ornl.keva.node.KevaDB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">KevaDB</span>
extends java.lang.Object</pre>
<div class="block">KevaDB is the primary mechanism to interact with databases. 
 Each database is represented and mediated by a KevaDB instance, and
 has a simple API to interact with the underlying data. The data model
 used by KevaDB is based on a history of values defined by vector clocks. 
 This means that values may persist for a long time (even if users write to
 the same key), and that values may fork (depending on the vector clock
 assigned to the value).</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>James Horey</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#KevaDB(java.lang.String, java.lang.String)">KevaDB</a></strong>(java.lang.String&nbsp;db,
      java.lang.String&nbsp;configFile)</code>
<div class="block">This is not a public constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#close()">close</a></strong>()</code>
<div class="block">Close a database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#commit(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue, gov.ornl.keva.core.WriteOptions)">commit</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
      <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value,
      <a href="../../../../gov/ornl/keva/core/WriteOptions.html" title="class in gov.ornl.keva.core">WriteOptions</a>&nbsp;options)</code>
<div class="block">Commit a tentative value to memory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#delete(gov.ornl.keva.table.TableKey)">delete</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</code>
<div class="block">Delete the value from the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#flush()">flush</a></strong>()</code>
<div class="block">Flush the current memtable to disk and make an sstable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#forceMerge()">forceMerge</a></strong>()</code>
<div class="block">Force all the sstables in the first level to be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#format()">format</a></strong>()</code>
<div class="block">Create a new empty memtable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>,java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#get(java.util.List, gov.ornl.keva.core.ReadOptions)">get</a></strong>(java.util.List&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&gt;&nbsp;keys,
   <a href="../../../../gov/ornl/keva/core/ReadOptions.html" title="class in gov.ornl.keva.core">ReadOptions</a>&nbsp;options)</code>
<div class="block">Read the values associated with the list of keys.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#get(gov.ornl.keva.table.TableKey)">get</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</code>
<div class="block">Get the latest independent values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#get(gov.ornl.keva.table.TableKey, long)">get</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
   long&nbsp;time)</code>
<div class="block">Read the latest independent values while applying the read options.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#get(gov.ornl.keva.table.TableKey, java.lang.String)">get</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
   java.lang.String&nbsp;branch)</code>
<div class="block">Read the latest independent values while applying the read options.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getDataPath()">getDataPath</a></strong>()</code>
<div class="block">Return the path where the sstables are stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../gov/ornl/keva/node/SSTableService.html" title="class in gov.ornl.keva.node">SSTableService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getDiskService()">getDiskService</a></strong>()</code>
<div class="block">Get the SSTable service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getHistory(gov.ornl.keva.table.TableKey)">getHistory</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</code>
<div class="block">Get the history of the values associated with the key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getHistory(gov.ornl.keva.table.TableKey, java.lang.String)">getHistory</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
          java.lang.String&nbsp;branch)</code>
<div class="block">Get the history of the values associated with the key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getID()">getID</a></strong>()</code>
<div class="block">ID that uniquely identifies this database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#getLogPath()">getLogPath</a></strong>()</code>
<div class="block">Return the log directory path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#iterator()">iterator</a></strong>()</code>
<div class="block">Iterate over all the keys in sorted order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#put(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue)">put</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
   <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value)</code>
<div class="block">Place a new value into the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#put(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue, gov.ornl.keva.core.WriteOptions)">put</a></strong>(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
   <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value,
   <a href="../../../../gov/ornl/keva/core/WriteOptions.html" title="class in gov.ornl.keva.core">WriteOptions</a>&nbsp;options)</code>
<div class="block">Place a new value into the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#put(gov.ornl.keva.node.WriteBatch)">put</a></strong>(<a href="../../../../gov/ornl/keva/node/WriteBatch.html" title="class in gov.ornl.keva.node">WriteBatch</a>&nbsp;ops)</code>
<div class="block">Apply multiple writes atomically.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#recover()">recover</a></strong>()</code>
<div class="block">Recover the database from logs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#setDataPath(java.lang.String)">setDataPath</a></strong>(java.lang.String&nbsp;path)</code>
<div class="block">Define the path where the sstables are stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#setLogPath(java.lang.String)">setLogPath</a></strong>(java.lang.String&nbsp;path)</code>
<div class="block">Define the log directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#setSSTableImplementation(java.lang.String, java.lang.String)">setSSTableImplementation</a></strong>(java.lang.String&nbsp;className,
                        java.lang.String&nbsp;jar)</code>
<div class="block">Set the sstable implementation class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/ornl/keva/node/KevaDB.html#start()">start</a></strong>()</code>
<div class="block">Start the database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KevaDB(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KevaDB</h4>
<pre>protected&nbsp;KevaDB(java.lang.String&nbsp;db,
      java.lang.String&nbsp;configFile)</pre>
<div class="block">This is not a public constructor. To instantiate
 KevaDB objects, use the factory.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>protected&nbsp;void&nbsp;start()</pre>
<div class="block">Start the database. Used by the factory to finish
 initialization of the DB.</div>
</li>
</ul>
<a name="setSSTableImplementation(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSSTableImplementation</h4>
<pre>public&nbsp;void&nbsp;setSSTableImplementation(java.lang.String&nbsp;className,
                            java.lang.String&nbsp;jar)</pre>
<div class="block">Set the sstable implementation class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - Name of the sstable class</dd><dd><code>jar</code> - Name of the jar file containing the implementation (optional)</dd></dl>
</li>
</ul>
<a name="getID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getID</h4>
<pre>public&nbsp;java.lang.String&nbsp;getID()</pre>
<div class="block">ID that uniquely identifies this database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The string representation of the ID.</dd></dl>
</li>
</ul>
<a name="setDataPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataPath</h4>
<pre>public&nbsp;void&nbsp;setDataPath(java.lang.String&nbsp;path)</pre>
<div class="block">Define the path where the sstables are stored. This value is also
 defined by the configuration parameter "keva.data.dir".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - The path where the data is stored.</dd></dl>
</li>
</ul>
<a name="getDataPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDataPath()</pre>
<div class="block">Return the path where the sstables are stored.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The path where the data is stored.</dd></dl>
</li>
</ul>
<a name="setLogPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogPath</h4>
<pre>public&nbsp;void&nbsp;setLogPath(java.lang.String&nbsp;path)</pre>
<div class="block">Define the log directory. The log directory is where all the WAL logs live.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - The log directory path.</dd></dl>
</li>
</ul>
<a name="getLogPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLogPath()</pre>
<div class="block">Return the log directory path.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The log path in string representation.</dd></dl>
</li>
</ul>
<a name="getDiskService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDiskService</h4>
<pre>protected&nbsp;<a href="../../../../gov/ornl/keva/node/SSTableService.html" title="class in gov.ornl.keva.node">SSTableService</a>&nbsp;getDiskService()</pre>
<div class="block">Get the SSTable service.</div>
</li>
</ul>
<a name="format()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>protected&nbsp;void&nbsp;format()</pre>
<div class="block">Create a new empty memtable.</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../../../../gov/ornl/keva/core/KevaDBException.html" title="class in gov.ornl.keva.core">KevaDBException</a></pre>
<div class="block">Close a database.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../gov/ornl/keva/core/KevaDBException.html" title="class in gov.ornl.keva.core">KevaDBException</a></code></dd></dl>
</li>
</ul>
<a name="recover()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recover</h4>
<pre>public&nbsp;void&nbsp;recover()
             throws <a href="../../../../gov/ornl/keva/core/KevaDBException.html" title="class in gov.ornl.keva.core">KevaDBException</a></pre>
<div class="block">Recover the database from logs.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../gov/ornl/keva/core/KevaDBException.html" title="class in gov.ornl.keva.core">KevaDBException</a></code></dd></dl>
</li>
</ul>
<a name="forceMerge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceMerge</h4>
<pre>public&nbsp;void&nbsp;forceMerge()</pre>
<div class="block">Force all the sstables in the first level to be merged.</div>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;void&nbsp;flush()</pre>
<div class="block">Flush the current memtable to disk and make an sstable. 
 This normally happens when the memtable grows too large, but
 the user can force the issue if necessary.</div>
</li>
</ul>
<a name="commit(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue, gov.ornl.keva.core.WriteOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
          <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value,
          <a href="../../../../gov/ornl/keva/core/WriteOptions.html" title="class in gov.ornl.keva.core">WriteOptions</a>&nbsp;options)</pre>
<div class="block">Commit a tentative value to memory. A tentative value
 is a value that is already in the memtable, but is not
 visible. Since the value isn't visible it won't be flushed
 to an sstable until the value is commited. This is useful
 when we need to atomically commit multiple values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key of the value to commit.</dd><dd><code>value</code> - The value to commit. We actually just need the vector clock.</dd><dd><code>options</code> - Write options associated with this value.</dd></dl>
</li>
</ul>
<a name="delete(gov.ornl.keva.table.TableKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</pre>
<div class="block">Delete the value from the database. This does not actually
 remove the value from the database, but simply marks it for deletion.
 The user must define a pruning option to actually get rid of the value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>client</code> - Unique ID representing the client. Normally the vector clock
 associated with a value is sufficient to define the client, but since the
 delete operation does not have a value parameter, we must supply another client ID.</dd><dd><code>key</code> - The key of the value to delete.</dd></dl>
</li>
</ul>
<a name="put(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
       <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value)</pre>
<div class="block">Place a new value into the database. This method assumes that the
 client has defined the value vector clock already, and does not
 have any specific writing options.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key of the value.</dd><dd><code>value</code> - The value to place into the database.</dd></dl>
</li>
</ul>
<a name="put(gov.ornl.keva.table.TableKey, gov.ornl.keva.table.TableValue, gov.ornl.keva.core.WriteOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
       <a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&nbsp;value,
       <a href="../../../../gov/ornl/keva/core/WriteOptions.html" title="class in gov.ornl.keva.core">WriteOptions</a>&nbsp;options)</pre>
<div class="block">Place a new value into the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key of the value.</dd><dd><code>value</code> - The value to place into the database.</dd><dd><code>options</code> - Write options that define how the 
 value is written to the memtable.</dd></dl>
</li>
</ul>
<a name="put(gov.ornl.keva.node.WriteBatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;boolean&nbsp;put(<a href="../../../../gov/ornl/keva/node/WriteBatch.html" title="class in gov.ornl.keva.node">WriteBatch</a>&nbsp;ops)</pre>
<div class="block">Apply multiple writes atomically.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ops</code> - The batch write operations.</dd></dl>
</li>
</ul>
<a name="get(gov.ornl.keva.table.TableKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;&nbsp;get(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</pre>
<div class="block">Get the latest independent values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key identifying the value.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator over the latest independent values.</dd></dl>
</li>
</ul>
<a name="get(gov.ornl.keva.table.TableKey, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&nbsp;get(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
                             java.lang.String&nbsp;branch)</pre>
<div class="block">Read the latest independent values while applying the read options.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key identifying the value.</dd><dd><code>options</code> - Read options that specify clock constraints, ordering, etc.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator over the latest independent values.</dd></dl>
</li>
</ul>
<a name="get(gov.ornl.keva.table.TableKey, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;&nbsp;get(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
                                                             long&nbsp;time)</pre>
<div class="block">Read the latest independent values while applying the read options.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key identifying the value.</dd><dd><code>time</code> - The wall time</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator over the latest independent values.</dd></dl>
</li>
</ul>
<a name="get(java.util.List, gov.ornl.keva.core.ReadOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>,java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;&gt;&nbsp;get(java.util.List&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&gt;&nbsp;keys,
                                                                                     <a href="../../../../gov/ornl/keva/core/ReadOptions.html" title="class in gov.ornl.keva.core">ReadOptions</a>&nbsp;options)</pre>
<div class="block">Read the values associated with the list of keys. If the
 user supplies a read option, then we use those options to
 synchronize the reads. Otherwise, we will use the latest values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keys</code> - List of keys identifying the values.</dd><dd><code>options</code> - Read options that specify clock constraints, ordering, etc.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map associating the latest independent values for each key.</dd></dl>
</li>
</ul>
<a name="getHistory(gov.ornl.keva.table.TableKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistory</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../gov/ornl/keva/core/StreamIterator.html" title="class in gov.ornl.keva.core">StreamIterator</a>&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&gt;&nbsp;getHistory(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key)</pre>
<div class="block">Get the history of the values associated with the key. The
 option is used to control which specific values are returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key identifying the value.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator over the history of values along the branch specified by the options.</dd></dl>
</li>
</ul>
<a name="getHistory(gov.ornl.keva.table.TableKey, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistory</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../gov/ornl/keva/table/TableValue.html" title="class in gov.ornl.keva.table">TableValue</a>&gt;&nbsp;getHistory(<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&nbsp;key,
                                        java.lang.String&nbsp;branch)</pre>
<div class="block">Get the history of the values associated with the key. The
 option is used to control which specific values are returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key identifying the value.</dd><dd><code>options</code> - Read options that specify a specific branch of values.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator over the history of values along the branch specified by the options.</dd></dl>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../gov/ornl/keva/table/TableKey.html" title="class in gov.ornl.keva.table">TableKey</a>&gt;&nbsp;iterator()</pre>
<div class="block">Iterate over all the keys in sorted order. Be warned that this
 is an expensive operation since we need to scan all the</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../gov/ornl/keva/node/KevaDBFactory.html" title="class in gov.ornl.keva.node"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/ornl/keva/node/KevaDB.html" target="_top">Frames</a></li>
<li><a href="KevaDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
